<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Scanner 1C</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link href="https://unpkg.com/tabulator-tables@5.5.0/dist/css/tabulator_semanticui.min.css" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <div id="scan-section">
            <input type="file" id="file-input" accept="image/*,application/pdf" capture="environment" multiple hidden>
            <button class="btn-primary" onclick="document.getElementById('file-input').click()">
                üì∑ –ó–∞–≥—Ä—É–∑–∏—Ç—å –£–ü–î (—Ñ–æ—Ç–æ –∏–ª–∏ PDF)
            </button>
            <div id="image-preview" class="hidden">
                <img id="preview-img" alt="–ü—Ä–µ–≤—å—é –¥–æ–∫—É–º–µ–Ω—Ç–∞" onclick="openImageModal()">
            </div>

            <!-- Modal –¥–ª—è —É–≤–µ–ª–∏—á–µ–Ω–∏—è —Ñ–æ—Ç–æ -->
            <div id="image-modal" class="modal hidden" onclick="closeImageModal()">
                <span class="modal-close">&times;</span>
                <img id="modal-img" class="modal-content">
            </div>
            <div id="loader" class="hidden">
                <div class="spinner"></div>
                <p>–ò–ò —á–∏—Ç–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç...</p>
                <small>–≠—Ç–æ –º–æ–∂–µ—Ç –∑–∞–Ω—è—Ç—å 10-20 —Å–µ–∫—É–Ω–¥</small>
            </div>
        </div>

        <div id="result-section" class="hidden">
            <!-- –°–ø–∏—Å–æ–∫ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤ -->
            <div id="documents-list" class="hidden"></div>

            <div class="form-group">
                <label>–ü–æ—Å—Ç–∞–≤—â–∏–∫ (–ò–ù–ù)</label>
                <input type="text" id="inn" placeholder="–ò–ù–ù">
            </div>
            
            <div class="form-row dates">
                <div class="form-group">
                    <label>–ù–æ–º–µ—Ä</label>
                    <input type="text" id="doc_num">
                </div>
                <div class="form-group">
                    <label>–î–∞—Ç–∞</label>
                    <input type="text" id="doc_date">
                </div>
            </div>

            <div class="form-group">
                <label>–ò—Ç–æ–≥–æ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É</label>
                <input type="number" id="total_sum" style="font-weight: bold; background-color: #e8f5e9;">
            </div>
            
            <h3>–¢–æ–≤–∞—Ä—ã</h3>
            <div id="grid-table"></div>

            <button id="send-btn" class="btn-primary" style="background: #2481cc; margin-top: 15px;">üì§ –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤ 1–°</button>

            <div class="button-group">
                <button id="add-item-btn" class="btn-secondary">‚ûï –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä</button>
                <button id="clear-btn" class="btn-danger">üóë –û—á–∏—Å—Ç–∏—Ç—å</button>
            </div>
        </div>
    </div>

    <script type="text/javascript" src="https://unpkg.com/tabulator-tables@5.5.0/dist/js/tabulator.min.js"></script>
    <script src="js/app.js"></script>
</body>
</html>